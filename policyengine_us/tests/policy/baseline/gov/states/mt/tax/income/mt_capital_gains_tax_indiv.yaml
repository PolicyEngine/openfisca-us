- name: Calculation for a joint person
  period: 2024
  input:
    people: 
      person1:
        long_term_capital_gains: 5_000
        mt_taxable_income_indiv: 80_000
      person2:
        long_term_capital_gains: 3_000
        mt_taxable_income_indiv: 20_000
    tax_units:
      tax_unit:
        members: [person1, person2]
        state_filing_status_if_married_filing_separately_on_same_return: SEPARATE
    households:
      household:
        members: [person1, person2]
        state_code: MT
  output:
    mt_capital_gains_tax_indiv: [205, 90]


- name: Calculation of a head of household
  period: 2024
  input:
  # The taxable income will always default to 0 for the non-head 
    people: 
      person1:
        long_term_capital_gains: 5_000
        mt_taxable_income_indiv: 30_000
      person2:
        long_term_capital_gains: 8_000
        mt_taxable_income_indiv: 35_000
    tax_units:
      tax_unit:
        members: [person1, person2]
        state_filing_status_if_married_filing_separately_on_same_return: HEAD_OF_HOUSEHOLD
    households:
      household:
        members: [person1, person2]
        state_code: MT
  output:
    mt_capital_gains_tax_indiv: [150, 286.75]

- name: Calculation of a head of household before 2024
  period: 2021
  input:
  # The taxable income will always default to 0 for the non-head 
    people: 
      person1:
        long_term_capital_gains: 5_000
        mt_taxable_income_indiv: 30_000
      person2:
        long_term_capital_gains: 8_000
        mt_taxable_income_indiv: 35_000
    tax_units:
      tax_unit:
        members: [person1, person2]
        state_filing_status_if_married_filing_separately_on_same_return: HEAD_OF_HOUSEHOLD
    households:
      household:
        members: [person1, person2]
        state_code: MT
  output:
    mt_capital_gains_tax_indiv: [0, 0]

- name: Capital gains over taxable income
  period: 2024
  input:
  # The taxable income will always default to 0 for the non-head 
    people: 
      person1:
        long_term_capital_gains: 50_000
        mt_taxable_income_indiv: 30_000
      person2:
        long_term_capital_gains: 8_000
        mt_taxable_income_indiv: 35_000
    tax_units:
      tax_unit:
        members: [person1, person2]
        state_filing_status_if_married_filing_separately_on_same_return: HEAD_OF_HOUSEHOLD
    households:
      household:
        members: [person1, person2]
        state_code: MT
  output:
    mt_capital_gains_tax_indiv: [1_711.75, 286.75]
