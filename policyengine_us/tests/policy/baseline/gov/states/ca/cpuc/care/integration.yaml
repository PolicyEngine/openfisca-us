- name: A one person household with an income of $100K and no money from any other program is not qualified for CARE or FERA
  period: 2023
  input:
    people:
      p1: 
        employment_income: 79_000
        age: 40
      p2: 
        employment_income: 0
        age: 40
      p3: {}
      p4: {}
    spm_units:
      spm_unit_1:
        members: [p1, p2, p3, p4]
        electricity_expense: 100
    households:
      household:
        members: [p1, p2, p3, p4]
        state_code: CA
  output:
    wic: 0
    # Snap is being awarded to this household when it shouldn't be
    snap: 0
    ssi: 0
    tanf: 0
    ca_care_categorically_eligible: false
    ca_care_income_eligible: false
    ca_care_amount_if_eligible: 32.5
    ca_care: 0
    ca_fera_eligible: false
    ca_fera_amount_if_eligible: 18
    ca_fera: 0

# The test below demonstrates the issue whereby SNAP is sometimes awarded incorrectly    
# - name: A one person household with an income of $100K and no money from any other program is not qualified for CARE or FERA
#   period: 2022
#   input:
#     state_code: CA
#     household_size: 1
#     employment_income: 100_000
#     electricity_expense: 100
#     # If the following line is ommitted, the test fails.
#     #ca_care_categorically_eligible: false
#   output:
#     wic: 0
#     # Snap is being awarded to this household when it shouldn't be
#     snap: 0
#     ssi: 0
#     tanf: 0
#     ca_care_income_eligible: false
#     ca_care_amount_if_eligible: 32.5
#     ca_care: 0
#     ca_fera_eligible: false
#     ca_fera_amount_if_eligible: 18
#     ca_fera: 0

# - name: A four person household with an income of $69k is qualified for FERA, but not for CARE.
#   period: 2022
#   input:
#     state_code: CA
#     household_size: 4
#     household_market_income: 69_000
#     electricity_expense: 100
#     # If the following line is ommitted, the test fails.
#     ca_care_categorically_eligible: false
#   output:
#     ca_care_income_eligible: false
#     ca_care_amount_if_eligible: 32.5
#     ca_care: 0
#     ca_fera_eligible: true
#     ca_fera_amount_if_eligible: 18
#     ca_fera: 18



# - name: A four person household with an income of $40k is qualified for CARE but not for FERA
#   period: 2022
#   input:
#     state_code: CA
#     household_size: 4
#     household_market_income: 40_000
#     electricity_expense: 100
#     # If the following line is ommitted, the test fails.
#     ca_care_categorically_eligible: false
#   output:
#     ca_care_income_eligible: true
#     ca_care_amount_if_eligible: 32.5
#     ca_care: 32.5
#     ca_fera_eligible: false
#     ca_fera_amount_if_eligible: 18
#     ca_fera: 0


# - name: A three-peson household with an income between 200% and 250% of poverty line and inelligible for CARE is eligible for FERA.
#   period: 2023
#   input:
#   # if the following line is omitted, then the test fails.
#     ca_care_categorically_eligible: false 
#     household_size: 3
#     household_market_income: 2.3
#     ca_care_poverty_line: 1
#     state_code: CA
#   output:
#     ca_fera_eligible: true
#     ca_care_eligible: false


# - name: A four person household with an income of $80k is not qualified for CARE or FERA
#   period: 2022
#   input:
#     state_code: CA
#     household_size: 4
#     household_market_income: 80_000
#     electricity_expense: 100
#     # If the following line is ommitted, the test fails.
#     #ca_care_categorically_eligible: false
#   output:
#     ca_care_income_eligible: false
#     ca_care_amount_if_eligible: 32.5
#     ca_care: 0
#     ca_fera_eligible: false
#     ca_fera_amount_if_eligible: 18
#     ca_fera: 0

