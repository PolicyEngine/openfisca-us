- name: base test
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        ky_additions_joint: 0
        ky_subtractions_joint: 0
        adjusted_gross_income_person: 0
      person2:
        is_tax_unit_head: false
        ky_additions_joint: 0
        ky_subtractions_joint: 0
        adjusted_gross_income_person: 0
    tax_units:
      tax_unit:
        members: [person1,person2]
        filing_status: JOINT
    households:
      household:
        members: [person1,person2]
        state_code: KY
  output:
    ky_agi_joint: [0, 0]

- name: both has income
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        ky_additions_joint: 100
        ky_subtractions_joint: 200
        adjusted_gross_income_person: 300
      person2:
        is_tax_unit_head: false
        ky_additions_joint: 0
        ky_subtractions_joint: 0
        adjusted_gross_income_person: 400
    tax_units:
      tax_unit:
        members: [person1,person2]
        filing_status: JOINT
    households:
      household:
        members: [person1,person2]
        state_code: KY
  output:
    ky_agi_joint: [600, 0]

- name: smaller than 0
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        ky_additions_joint: 100
        ky_subtractions_joint: 1_000
        adjusted_gross_income_person: 300
      person2:
        is_tax_unit_head: false
        ky_additions_joint: 0
        ky_subtractions_joint: 0
        adjusted_gross_income_person: 500
    tax_units:
      tax_unit:
        members: [person1,person2]
        filing_status: JOINT
    households:
      household:
        members: [person1,person2]
        state_code: KY
  output:
    ky_agi_joint: [0, 0]
