- name: One parent with two children in entry process, agi > hhs_fpg, both children eligible for cccap but not eligible for quality rating facility discount.
  period: 2022
  input:
    people:
      parent:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 20
        co_quality_rating_of_child_care_facility: 1
      child2:
        is_disabled: true
        is_tax_unit_dependent: true
        age: 17
        childcare_hours_per_day: 4
        co_quality_rating_of_child_care_facility: 1
    tax_units:
      tax_unit:
        members: [parent, child1, child2]
        co_ccap_is_entry: true
        co_ccap_is_re_determination: fasle
        adjusted_gross_income: 46_000
        tax_unit_size: 3
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_size: 3
    households:
      household: 
        members: [parent, child1, child2]
        county_str: BACA_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: true
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 2
    co_ccap_parent_fee: 770.56
    # base + add_on: [23_030*0.01+(46_000-23_030)*0.14]/12 + (2-1)*15 = 302.18; 
    # child1: 302.18 * 2 + child2: 302.18 * .55 = 770.56;
    # not qualified for quality rating discount;
    # final parent fee: 770.56

- name: Two parents with two children in re-determination process, agi > hhs_fpg, both children eligible for cccap and one eligible for quality rating facility discount.
  period: 2022
  input:
    people:
      parent1:
        is_disabled: true
        is_tax_unit_dependent: false
        age: 45
      parent2:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 20
        co_quality_rating_of_child_care_facility: 3
      child2:
        is_disabled: true
        is_tax_unit_dependent: true
        age: 17
        childcare_hours_per_day: 4
        co_quality_rating_of_child_care_facility: 1
    tax_units:
      tax_unit:
        members: [parent1, parent2, child1, child2]
        co_ccap_is_entry: false
        co_ccap_is_re_determination: true
        adjusted_gross_income: 90_000
        tax_unit_size: 4
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1, child2]
        spm_unit_size: 4
    households:
      household: 
        members: [parent1, parent2, child1, child2]
        county_str: BACA_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: false
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 2
    co_ccap_parent_fee: 1_559.34
    # base + add_on: [27_750*0.01+(90_000-27_750)*0.14]/12 + (2-1)*15 = 764.38; 
    # child1: 764.38 * 2 + child2: 764.38 * .55 = 1_949.17;
    # quality rating discount: 1_949.17 * .8 = 1_559.34
    # final parent fee: 1_559.34

- name: Two parents with two children in re-determination process, agi <= hhs_fpg, both children eligible for cccap and one eligible for quality rating facility discount.
  period: 2022
  input:
    people:
      parent1:
        is_disabled: true
        is_tax_unit_dependent: false
        age: 45
      parent2:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 20
        co_quality_rating_of_child_care_facility: 3
      child2:
        is_disabled: true
        is_tax_unit_dependent: true
        age: 17
        childcare_hours_per_day: 4
        co_quality_rating_of_child_care_facility: 4
    tax_units:
      tax_unit:
        members: [parent1, parent2, child1, child2]
        co_ccap_is_entry: false
        co_ccap_is_re_determination: true
        adjusted_gross_income: 20_000
        tax_unit_size: 4
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1, child2]
        spm_unit_size: 4
    households:
      household: 
        members: [parent1, parent2, child1, child2]
        county_str: CROWLEY_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: true
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 2
    co_ccap_parent_fee: 34.01
    # base + add_on: (20_000*0.01)/12 + 0 = 16.67; 
    # child1: 16.67 * 2 + child2: 16.67 * .55 = 42.51;
    # quality rating discount: 42.51 * .8 = 34.01
    # final parent fee: 34.01

- name: Two parents with one child in re-determination process, agi <= hhs_fpg, child eligible for cccap and quality rating facility discount.
  period: 2022
  input:
    people:
      parent1:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      parent2:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 15
        co_quality_rating_of_child_care_facility: 5
    tax_units:
      tax_unit:
        members: [parent1, parent2, child1]
        co_ccap_is_entry: false
        co_ccap_is_re_determination: true
        adjusted_gross_income: 20_000
        tax_unit_size: 3
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1]
        spm_unit_size: 3
    households:
      household: 
        members: [parent1, parent2, child1]
        county_str: CROWLEY_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: true
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 1
    co_ccap_parent_fee: 20.67
    # base + add_on: (20_000*0.01)/12 + 0 = 16.67; 
    # child1: 16.67 * 1.55 = 25.84;
    # quality rating discount: 25.84 * .8 = 20.67
    # final parent fee: 20.67

- name: Two parents with two children in re-determination process, agi <= hhs_fpg, one eligible for cccap and quality rating facility discount, the other not.
  period: 2022
  input:
    people:
      parent1:
        is_disabled: true
        is_tax_unit_dependent: false
        age: 45
      parent2:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 20
        co_quality_rating_of_child_care_facility: 3
      child2:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 17
        childcare_hours_per_day: 4
        co_quality_rating_of_child_care_facility: 4
    tax_units:
      tax_unit:
        members: [parent1, parent2, child1, child2]
        co_ccap_is_entry: false
        co_ccap_is_re_determination: true
        adjusted_gross_income: 20_000
        tax_unit_size: 4
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1, child2]
        spm_unit_size: 4
    households:
      household: 
        members: [parent1, parent2, child1, child2]
        county_str: CROWLEY_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: true
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 1
    co_ccap_parent_fee: 26.67
    # base + add_on: (20_000*0.01)/12 + 0 = 16.67; 
    # child1: 16.67 * 2  = 33.34;
    # quality rating discount: 33.34 * .8 = 26.67
    # final parent fee: 26.67

- name: One parent with two children in entry process, agi > hhs_fpg, one eligible for cccap but not eligible for quality rating facility discount, the other not eligible for cccap.
  period: 2022
  input:
    people:
      parent:
        is_disabled: false
        is_tax_unit_dependent: false
        age: 45
      child1:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 6
        childcare_hours_per_day: 20
        co_quality_rating_of_child_care_facility: 1
      child2:
        is_disabled: false
        is_tax_unit_dependent: true
        age: 17
        childcare_hours_per_day: 4
        co_quality_rating_of_child_care_facility: 4
    tax_units:
      tax_unit:
        members: [parent, child1, child2]
        co_ccap_is_entry: true
        co_ccap_is_re_determination: fasle
        adjusted_gross_income: 46_000
        tax_unit_size: 3
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_size: 3
    households:
      household: 
        members: [parent, child1, child2]
        county_str: BACA_COUNTY_CO
        state_code: CO
  output:
    co_ccap_entry_eligible: true
    co_ccap_re_determination_eligible: true
    co_ccap_num_child_age_eligible: 1
    co_ccap_parent_fee: 574.36
    # base + add_on: [23_030*0.01+(46_000-23_030)*0.14]/12 + (1-1)*15 = 287.18; 
    # child1: 287.18 * 2 = 574.36;
    # not qualified for quality rating discount
    # final parent fee: 574.36
