- name: Household with rent not over 30% of gross income
  period: 2019
  reforms: policyengine_us.reforms.harris.rent_relief_act.rent_relief_tax_credit.rent_relief_tax_credit
  input:
    gov.contrib.harris.rent_relief_act.rent_relief_credit.in_effect: true
    people:
      person1:
        irs_gross_income: 1_000
        rent: 300
      person2:
        irs_gross_income: 0
    tax_units:
      tax_unit:
        members: [person1, person2]
        eitc: 0
    households:
      household:
        members: [person1, person2]
        small_area_fair_market_rent: 25_000
        safmr_used_for_hcv: false
  output:
    rent_relief_tax_credit: 0
    income_tax_refundable_credits: 0

- name: Household with rent over 30% of gross income, full percentage
  period: 2019
  reforms: policyengine_us.reforms.harris.rent_relief_act.rent_relief_tax_credit.rent_relief_tax_credit
  input:
    gov.contrib.harris.rent_relief_act.rent_relief_credit.in_effect: true
    people:
      person1:
        irs_gross_income: 1_000
        rent: 600
      person2:
        irs_gross_income: 0
    tax_units:
      tax_unit:
        members: [person1, person2]
        eitc: 0
    households:
      household:
        members: [person1, person2]
        small_area_fair_market_rent: 25_000
        safmr_used_for_hcv: false
  output:
    rent_relief_tax_credit: 300
    income_tax_refundable_credits: 300

- name: Credit fully reduced, safmr used for HCV
  period: 2019
  reforms: policyengine_us.reforms.harris.rent_relief_act.rent_relief_tax_credit.rent_relief_tax_credit
  input:
    gov.contrib.harris.rent_relief_act.rent_relief_credit.in_effect: true
    people:
      person1:
        irs_gross_income: 100_001
        rent: 40_000
      person2:
        irs_gross_income: 0
    tax_units:
      tax_unit:
        members: [person1, person2]
        rents: 40_000
        eitc: 0
    households:
      household:
        members: [person1, person2]
        small_area_fair_market_rent: 25_000
        safmr_used_for_hcv: true
  output:
    rent_relief_tax_credit: 0

- name: Credit partially reduced, safmr used for HCV
  period: 2019
  reforms: policyengine_us.reforms.harris.rent_relief_act.rent_relief_tax_credit.rent_relief_tax_credit
  input:
    gov.contrib.harris.rent_relief_act.rent_relief_credit.in_effect: true
    people:
      person1:
        irs_gross_income: 55_000
        rent: 26_500
      person2:
        irs_gross_income: 0
    tax_units:
      tax_unit:
        members: [person1, person2]
        eitc: 0
    households:
      household:
        members: [person1, person2]
        small_area_fair_market_rent: 25_000
        safmr_used_for_hcv: true
  output:
    rent_relief_tax_credit: 5_000

- name: Credit partially reduced, safmr not used for HCV
  period: 2019
  reforms: policyengine_us.reforms.harris.rent_relief_act.rent_relief_tax_credit.rent_relief_tax_credit
  input:
    gov.contrib.harris.rent_relief_act.rent_relief_credit.in_effect: true
    people:
      person1:
        irs_gross_income: 55_000
        rent: 26_500
      person2:
        irs_gross_income: 0
    tax_units:
      tax_unit:
        members: [person1, person2]
        eitc: 0
    households:
      household:
        members: [person1, person2]
        small_area_fair_market_rent: 25_000
        safmr_used_for_hcv: false
  output:
    rent_relief_tax_credit: 4_250
